import{A as l,B as R,C as L,D as F,E as D,F as X,G as w,H as g,I as M,J as Y,K as Z,O as ee,Q as te,R as ie,S as U,V as b,W as N,Y as ne,a as $,b as q,c as k,d as z,e as v,f as J,g as _,h as H,i as h,j as T,k as G,l as K,m as B,n as r,o as f,p as u,q as p,r as i,s as t,t as d,u as Q,v as C,w as x,x as P,y as o,z as W}from"./chunk-OQ337FF6.js";var y=(()=>{let e=class e{constructor(a){this.http=a,this.apiUrl="https://restcountries.com/v3.1",this.cacheStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{region:"",countries:[]}},console.log("Country Service Ready!"),this.loadFromLocalStorage()}saveToLocalStorage(){localStorage.setItem("cacheStore",JSON.stringify(this.cacheStore))}loadFromLocalStorage(){localStorage.getItem("cacheStore")&&(this.cacheStore=JSON.parse(localStorage.getItem("cacheStore")))}getCountriesTequest(a){return this.http.get(a).pipe(k(()=>$([])))}searchCountryByAlphaCode(a){let s=`${this.apiUrl}/alpha/${a}`;return this.http.get(s).pipe(q(m=>m.length>0?m[0]:null),k(()=>$(null)))}searchByCapital(a){let s=`${this.apiUrl}/capital/${a}`;return this.getCountriesTequest(s).pipe(v(m=>this.cacheStore.byCapital={term:a,countries:m}),v(()=>this.saveToLocalStorage()))}searchCountry(a){let s=`${this.apiUrl}/name/${a}`;return this.getCountriesTequest(s).pipe(v(m=>this.cacheStore.byCountries={term:a,countries:m}),v(()=>this.saveToLocalStorage()))}searchRegion(a){let s=`${this.apiUrl}/region/${a}`;return this.getCountriesTequest(s).pipe(v(m=>this.cacheStore.byRegion={region:a,countries:m}),v(()=>this.saveToLocalStorage()))}};e.\u0275fac=function(s){return new(s||e)(H(Z))},e.\u0275prov=J({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var pe=n=>["/countries/by",n];function de(n,e){n&1&&(i(0,"div",2),o(1,` No hay pa\xEDses que mostrar
`),t())}function ue(n,e){if(n&1&&(i(0,"tr")(1,"td"),o(2),t(),i(3,"td"),o(4),t(),i(5,"td"),d(6,"img",5),t(),i(7,"td"),o(8),t(),i(9,"td"),o(10),t(),i(11,"td"),o(12),L(13,"number"),t(),i(14,"td")(15,"a",6),o(16,"Info"),t()()()),n&2){let c=e.$implicit,a=e.index;r(2),l(" ",a+1," "),r(2),l(" ",c.flag," "),r(2),p("src",c.flags.svg,B)("alt",c.name.common),r(2),l(" ",c.name.common," "),r(2),l(" ",c.capital," "),r(2),l(" ",F(13,8,c.population)," "),r(3),p("routerLink",R(10,pe,c.cca3))}}function he(n,e){if(n&1&&(i(0,"table",3)(1,"thead")(2,"tr")(3,"th"),o(4," # "),t(),i(5,"th"),o(6,"Icon"),t(),i(7,"th"),o(8,"Bandera"),t(),i(9,"th"),o(10,"Nombre"),t(),i(11,"th"),o(12,"Capital"),t(),i(13,"th"),o(14,"Poblacion"),t(),d(15,"th"),t()(),i(16,"tbody"),u(17,ue,17,12,"tr",4),t()()),n&2){let c=x();r(17),p("ngForOf",c.countries)}}var E=(()=>{let e=class e{constructor(){this.countries=[]}};e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=h({type:e,selectors:[["countries-table"]],inputs:{countries:"countries"},decls:3,vars:2,consts:[["table",""],["class","alert alert-warning text-center",4,"ngIf","ngIfElse"],[1,"alert","alert-warning","text-center"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"src","alt"],[3,"routerLink"]],template:function(s,m){if(s&1&&u(0,de,2,0,"div",1)(1,he,18,1,"ng-template",null,0,D),s&2){let I=P(2);p("ngIf",m.countries.length===0)("ngIfElse",I)}},dependencies:[w,g,ie,M],styles:["img[_ngcontent-%COMP%]{width:25px}"]});let n=e;return n})();function ge(n,e){n&1&&d(0,"shared-loading-spinner")}var re=(()=>{let e=class e{constructor(a){this.countriesService=a,this.countries=[],this.isLoading=!1,this.initialValue=""}ngOnInit(){this.countries=this.countriesService.cacheStore.byCapital.countries,this.initialValue=this.countriesService.cacheStore.byCapital.term}searchByCapital(a){this.isLoading=!0,this.countriesService.searchByCapital(a).subscribe(s=>{this.countries=s,this.isLoading=!1})}};e.\u0275fac=function(s){return new(s||e)(f(y))},e.\u0275cmp=h({type:e,selectors:[["app-by-capital-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col"],["placeholder","Buscar por capital",3,"onDebounce","initialValue"],[4,"ngIf"],[3,"countries"]],template:function(s,m){s&1&&(i(0,"h2"),o(1,"Por Capital"),t(),d(2,"hr"),i(3,"div",0)(4,"div",1)(5,"shared-search-box",2),C("onDebounce",function(V){return m.searchByCapital(V)}),t()()(),i(6,"div",0)(7,"div",1),d(8,"hr"),u(9,ge,1,0,"shared-loading-spinner",3),d(10,"countries-table",4),t()()),s&2&&(r(5),p("initialValue",m.initialValue),r(4),p("ngIf",m.isLoading),r(),p("countries",m.countries))},dependencies:[g,b,N,E],encapsulation:2});let n=e;return n})();function ye(n,e){n&1&&d(0,"shared-loading-spinner")}var ae=(()=>{let e=class e{constructor(a){this.countriesService=a,this.countries=[],this.isLoading=!1,this.initialValue=""}ngOnInit(){this.countries=this.countriesService.cacheStore.byCountries.countries,this.initialValue=this.countriesService.cacheStore.byCountries.term}searchByCountry(a){this.isLoading=!0,this.countriesService.searchCountry(a).subscribe(s=>{this.countries=s,this.isLoading=!1})}};e.\u0275fac=function(s){return new(s||e)(f(y))},e.\u0275cmp=h({type:e,selectors:[["app-by-country-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col"],["placeholder","Buscar por pa\xEDs",3,"onDebounce","initialValue"],[4,"ngIf"],[3,"countries"]],template:function(s,m){s&1&&(i(0,"h2"),o(1,"Por Pa\xEDs"),t(),d(2,"hr"),i(3,"div",0)(4,"div",1)(5,"shared-search-box",2),C("onDebounce",function(V){return m.searchByCountry(V)}),t()()(),i(6,"div",0)(7,"div",1),d(8,"hr"),u(9,ye,1,0,"shared-loading-spinner",3),d(10,"countries-table",4),t()()),s&2&&(r(5),p("initialValue",m.initialValue),r(4),p("ngIf",m.isLoading),r(),p("countries",m.countries))},dependencies:[g,b,N,E],encapsulation:2});let n=e;return n})();var ve=n=>({"btn-outline-primary":n});function xe(n,e){if(n&1){let c=Q();i(0,"button",6),C("click",function(){let s=G(c).$implicit,m=x();return K(m.searchByRegion(s))}),o(1),t()}if(n&2){let c=e.$implicit,a=x();p("ngClass",R(2,ve,a.selectedRegion===c)),r(),l(" ",c," ")}}function Se(n,e){n&1&&d(0,"shared-loading-spinner")}var se=(()=>{let e=class e{constructor(a){this.countriesService=a,this.countries=[],this.regions=["Africa","Americas","Asia","Europe","Oceania"],this.isLoading=!1}ngOnInit(){this.countries=this.countriesService.cacheStore.byRegion.countries,this.selectedRegion=this.countriesService.cacheStore.byRegion.region}searchByRegion(a){this.isLoading=!0,this.selectedRegion=a,this.countriesService.searchRegion(a).subscribe(s=>{this.countries=s,this.isLoading=!1})}};e.\u0275fac=function(s){return new(s||e)(f(y))},e.\u0275cmp=h({type:e,selectors:[["app-by-region-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col","text-center"],["class","btn mx-2 ",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col"],[4,"ngIf"],[3,"countries"],[1,"btn","mx-2",3,"click","ngClass"]],template:function(s,m){s&1&&(i(0,"h2"),o(1,"Por Region"),t(),d(2,"hr"),i(3,"div",0)(4,"div",1),u(5,xe,2,4,"button",2),t()(),i(6,"div",0)(7,"div",3),d(8,"hr"),u(9,Se,1,0,"shared-loading-spinner",4),d(10,"countries-table",5),t()()),s&2&&(r(5),p("ngForOf",m.regions),r(4),p("ngIf",m.isLoading),r(),p("countries",m.countries))},dependencies:[X,w,g,b,E],encapsulation:2});let n=e;return n})();function Ce(n,e){n&1&&(i(0,"div",2),o(1," Espere por favor "),t())}function be(n,e){if(n&1&&(i(0,"div")(1,"div",3)(2,"div",4)(3,"h2"),o(4,"Pa\xEDs: "),i(5,"strong"),o(6),t()(),d(7,"hr"),t()(),i(8,"div",3)(9,"div",5)(10,"h3"),o(11,"Bandera"),t(),d(12,"img",6),t(),i(13,"div",7)(14,"h3"),o(15,"Informaci\xF3n"),t(),i(16,"ul",8)(17,"li",9)(18,"strong"),o(19,"Poblaci\xF3n:"),t(),o(20),L(21,"number"),t(),i(22,"li",9)(23,"strong"),o(24,"C\xF3digo:"),t(),o(25),t()()()(),i(26,"div",3)(27,"div",7)(28,"h3"),o(29,"Traducciones"),t(),i(30,"div",10)(31,"span",11),o(32),t(),i(33,"span",11),o(34),t(),i(35,"span",11),o(36),t(),i(37,"span",11),o(38),t(),i(39,"span",11),o(40),t(),i(41,"span",11),o(42),t(),i(43,"span",11),o(44),t(),i(45,"span",11),o(46),t(),i(47,"span",11),o(48),t(),i(49,"span",11),o(50),t(),i(51,"span",11),o(52),t(),i(53,"span",11),o(54),t(),i(55,"span",11),o(56),t(),i(57,"span",11),o(58),t(),i(59,"span",11),o(60),t(),i(61,"span",11),o(62),t(),i(63,"span",11),o(64),t(),i(65,"span",11),o(66),t(),i(67,"span",11),o(68),t(),i(69,"span",11),o(70),t(),i(71,"span",11),o(72),t(),i(73,"span",11),o(74),t(),i(75,"span",11),o(76),t(),i(77,"span",11),o(78),t(),i(79,"span",11),o(80),t()()()()()),n&2){let c=x();r(6),W(c.country.name.common),r(6),p("src",c.country.flags.svg,B)("alt",c.country.name.common),r(8),l(" ",F(21,30,c.country.population)," "),r(5),l(" ",c.country.cca3," "),r(7),l(" ",c.country.translations.ara.common," "),r(2),l(" ",c.country.translations.bre.common," "),r(2),l(" ",c.country.translations.ces.common," "),r(2),l(" ",c.country.translations.cym.common," "),r(2),l(" ",c.country.translations.deu.common," "),r(2),l(" ",c.country.translations.est.common," "),r(2),l(" ",c.country.translations.fin.common," "),r(2),l(" ",c.country.translations.fra.common," "),r(2),l(" ",c.country.translations.hrv.common," "),r(2),l(" ",c.country.translations.hun.common," "),r(2),l(" ",c.country.translations.ita.common," "),r(2),l(" ",c.country.translations.jpn.common," "),r(2),l(" ",c.country.translations.kor.common," "),r(2),l(" ",c.country.translations.nld.common," "),r(2),l(" ",c.country.translations.per.common," "),r(2),l(" ",c.country.translations.pol.common," "),r(2),l(" ",c.country.translations.por.common," "),r(2),l(" ",c.country.translations.rus.common," "),r(2),l(" ",c.country.translations.slk.common," "),r(2),l(" ",c.country.translations.spa.common," "),r(2),l(" ",c.country.translations.srp.common," "),r(2),l(" ",c.country.translations.swe.common," "),r(2),l(" ",c.country.translations.tur.common," "),r(2),l(" ",c.country.translations.urd.common," "),r(2),l(" ",c.country.translations.zho.common," ")}}var ce=(()=>{let e=class e{constructor(a,s,m){this.activatedRoute=a,this.router=s,this.countriesService=m}ngOnInit(){this.activatedRoute.params.pipe(z(({id:a})=>this.countriesService.searchCountryByAlphaCode(a))).subscribe(a=>a?this.country=a:this.router.navigateByUrl(""))}};e.\u0275fac=function(s){return new(s||e)(f(ee),f(te),f(y))},e.\u0275cmp=h({type:e,selectors:[["app-country-page"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"alert","alert-info"],[1,"row"],[1,"col-12"],[1,"col-4"],[1,"img-thumbnail",3,"src","alt"],[1,"col"],[1,"list-group"],[1,"list-group-item"],[1,"d-felx","flex-wrap"],[1,"badge","bg-primary","m-1"]],template:function(s,m){if(s&1&&u(0,Ce,2,0,"ng-template",null,0,D)(2,be,81,32,"div",1),s&2){let I=P(1);r(2),p("ngIf",m.country)("ngIfElse",I)}},dependencies:[g,M],encapsulation:2});let n=e;return n})();var Ee=[{path:"by-capital",component:re},{path:"by-country",component:ae},{path:"by-region",component:se},{path:"by/:id",component:ce},{path:"**",redirectTo:"by-capital"}],le=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=T({type:e}),e.\u0275inj=_({imports:[U.forChild(Ee),U]});let n=e;return n})();var We=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=T({type:e}),e.\u0275inj=_({imports:[Y,le,ne]});let n=e;return n})();export{We as CountriesModule};
